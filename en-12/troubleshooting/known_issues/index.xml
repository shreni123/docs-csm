<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Known Issues on Cray System Management (CSM)</title>
    <link>/docs-csm/en-12/troubleshooting/known_issues/</link>
    <description>Recent content in Known Issues on Cray System Management (CSM)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <lastBuildDate>Wed, 06 Jul 2022 05:26:28 +0000</lastBuildDate><atom:link href="/docs-csm/en-12/troubleshooting/known_issues/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title></title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/wait_for_unbound_hang/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:01 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/wait_for_unbound_hang/</guid>
      <description>#Wait_for_unbound or cray-dns-unbound-manager hangs
  Run the following command:
kubectl get jobs -n services | grep cray-dns-unbound-manager services cray-dns-unbound-manager-1635352560 0/1 26h 26h services cray-dns-unbound-manager-1635448680 1/1 35s 8m37s services cray-dns-unbound-manager-1635448860 1/1 51s 5m36s services cray-dns-unbound-manager-1635449040 1/1 61s 2m35s    If you see one of the jobs show 0/1 for more than 10 minutes and there are other runs with 1/1. That means that job is hung. You can delete the job with:</description>
    </item>
    
    <item>
      <title>Common Platform Ca Issues</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/platform_ca_issues/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:01 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/platform_ca_issues/</guid>
      <description>Common Platform CA Issues 1 NCN platform CA certificate does not match certificate in BSS During install, if the beginning steps are re-run after the NCNs are booted, then platform-ca files on those NCNs will no longer match the server&amp;rsquo;s CA certificate. This can be detected with a Goss test.
1.1 Error messages (Caused by SSLError(SSLError(1, &amp;#39;[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:852)&amp;#39;),)) curl: (60) SSL certificate problem: self signed certificate in certificate chain More details here: https://curl.</description>
    </item>
    
    <item>
      <title>Spire Database Cluster DNS Lookup Failure</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/spire_database_lookup_error/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:01 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/spire_database_lookup_error/</guid>
      <description>Spire Database Cluster DNS Lookup Failure Description There is a known issue where if Unbound is configured to forward to an invalid or inaccessible site DNS server, the Spire server may be unable to resolve the hostname of its PostgreSQL cluster.
Symptoms   The spire-server pods may be in a CrashLoopBackOff state.
  API calls to services may fail with HTTP 503 errors.
  The spire-server pods contain the following error in the logs.</description>
    </item>
    
    <item>
      <title>Cray Cli 403 Forbidden Errors</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/craycli_403_forbidden_errors/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/craycli_403_forbidden_errors/</guid>
      <description>Cray CLI 403 Forbidden Errors There is a known issue where the Keycloak configuration obtained from LDAP is incomplete causing the keycloak-users-localize job to fail to complete. This, in turn, causes 403 Forbidden errors when trying to use the cray CLI. This can also cause a Keycloak test to fail during CSM health validation.
Fix To recover from this situation, the following can be done.
  Log into the Keycloak admin console.</description>
    </item>
    
    <item>
      <title>Gigabyte BMC Missing Redfish Data</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/gigabye_missing_redfish_data/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/gigabye_missing_redfish_data/</guid>
      <description>Gigabyte BMC Missing Redfish Data Follow this procedure if you notice data from Gigabyte nodes is missing from Hardware State Manager (HSM) or other CSM tools.
If data from Gigabyte nodes is missing from HSM or other CSM tools, check the Redfish endpoint on the BMC to see if the data is present.
If the data is not present in the Redfish, then a cold reset of the BMC is needed to refresh the Redfish values.</description>
    </item>
    
    <item>
      <title>Hms Discovery Job Not Creating Redfishendpoints In Hardware State Manager</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/discovery_job_not_creating_redfish_endpoints/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/discovery_job_not_creating_redfish_endpoints/</guid>
      <description>HMS Discovery Job Not Creating RedfishEndpoints In Hardware State Manager It is a known issue with the HMS Discovery cronjob that when a BMC does not respond by its IP address, the discovery job will not create a RedfishEndpoint for the BMC in Hardware State Manager (HSM). However, it does update the BMC MAC address in HSM with its component name (xname). The discovery job only creates a new RedfishEndpoints when it encounters an unknown MAC address without a component name (xname) associated with it.</description>
    </item>
    
    <item>
      <title>Kafka Failure After 1.2 Upgrade</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/kafka_upgrade_failure/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/kafka_upgrade_failure/</guid>
      <description>Kafka Failure after CSM 1.2 Upgrade Occasionally the cray-shared-kafka-kafka pods will be restarted before the cray-shared-kafka-zookeeper pods are ready. If this happens then the shared kafka cluster will start to fail.
Error Messages cray-shared-kafka-kafka-# pods 2022-05-20 19:43:02,242 INFO Socket connection established to localhost/127.0.0.1:2181, initiating session (org.apache.zookeeper.ClientCnxn) [main-SendThread(localhost:2181)] 2022-05-20 19:43:02,245 WARN Session 0x1001ec4c0730001 for server localhost/127.0.0.1:2181, unexpected error, closing socket connection and attempting reconnect (org.apache.zookeeper.ClientCnxn) [main-SendThread(localhost:2181)] java.io.IOException: Connection reset by peer cray-shared-kafka-zookeeper-# pods 2022.</description>
    </item>
    
    <item>
      <title>Known Issue Admin-client-auth Not Found</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/admin_client_auth_not_found/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/admin_client_auth_not_found/</guid>
      <description>Known Issue: admin-client-auth Not Found Running the Install CSM Services script, the following error may occur:
ERROR Step: Set Management NCNs to use Unbound --- Checking Precondition + Getting admin-client-auth secret Error from server (NotFound): secrets &amp;#34;admin-client-auth&amp;#34; not found + Obtaining access token Fix This can occur if the keycloak-users-localize pod has not completed, and that can be caused by an intermittent Istio issue. Remediate the issue with the following procedure:</description>
    </item>
    
    <item>
      <title>Known Issue Initrd.img.xz Not Found</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/initrd.img.zx_not_found/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/initrd.img.zx_not_found/</guid>
      <description>Known Issue: initrd.img.xz Not Found This is a problem that is fixed in CSM 1.0 and later, but if your system was upgraded from CSM 0.9 you may run into this. Below is the full error seen when attempting to boot:
Loading Linux ... Loading initial ramdisk ... error: file `/boot/grub2/../initrd.img.xz&#39; not found. Press any key to continue... [ 2.528752] Kernel panic - not syncing: VFS: Unable to mount root fs on unknown-block(0,0) [ 2.</description>
    </item>
    
    <item>
      <title>Kubernetes Master Or Worker Node&#39;s Root Filesystem Is Out Of Space</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/kubernetes_node_rootfs_out_of_space/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/kubernetes_node_rootfs_out_of_space/</guid>
      <description>Kubernetes Master or Worker node&amp;rsquo;s root filesystem is out of space Description There is a known bug in Kubernetes 1.19.9 where movement of a pod with an attached volume may not complete in time and cause the kubelet service to stream error messages to the /var/log/messages log file. If this goes unchecked, it will fill up the root file system.
Fix   Log into the node that has space issues.</description>
    </item>
    
    <item>
      <title>Mellanox Lacp-individual Limitations</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/mellanox_lacp_individual/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/mellanox_lacp_individual/</guid>
      <description>Mellanox lacp-individual limitations Description In some failover/maintenance scenarios admins may want to shutdown one port of the bond on an NCN. Due to the way Mellanox handles lacp-individual mode the ports need to be shutdown from the switch instead of the NCN.
Fix Shut down the port on the switch instead of the NCN.</description>
    </item>
    
    <item>
      <title>SAT/HSM/CAPMC Component Power State Mismatch</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/component_power_state_mismatch/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/component_power_state_mismatch/</guid>
      <description>SAT/HSM/CAPMC Component Power State Mismatch Because of various hardware or communication issues, the node state reported by SAT and HSM (Hardware State Manager) may become out of sync with the actual hardware state reported by CAPMC or Redfish. In most cases this will be noticed when trying to power on or off nodes with BOS/BOA, and will present as SAT or HSM reporting nodes are On while CAPMC reports them as Off (or vice versa).</description>
    </item>
    
    <item>
      <title>SLS Not Working During Node Rebuild</title>
      <link>/docs-csm/en-12/troubleshooting/known_issues/sls_not_working_during_node_rebuild/</link>
      <pubDate>Wed, 06 Jul 2022 05:26:00 +0000</pubDate>
      
      <guid>/docs-csm/en-12/troubleshooting/known_issues/sls_not_working_during_node_rebuild/</guid>
      <description>SLS Not Working During Node Rebuild During some node rebuilds (including those that happen during Stage 1 and Stage 2 of the CSM upgrade process), the SLS Postgres database gets into a bad state, causing SLS to become unhealthy. This page outlines how to detect if this has happened and provides a remediation procedure.
Note: If encountering this during a CSM upgrade, then at this point of the upgrade process, the system has not yet upgraded the CSM services themselves.</description>
    </item>
    
  </channel>
</rss>

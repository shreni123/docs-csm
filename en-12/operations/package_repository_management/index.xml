<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Package Repository Management on Cray System Management (CSM)</title>
    <link>/docs-csm/en-12/operations/package_repository_management/</link>
    <description>Recent content in Package Repository Management on Cray System Management (CSM)</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    <lastBuildDate>Tue, 06 Sep 2022 03:56:53 +0000</lastBuildDate><atom:link href="/docs-csm/en-12/operations/package_repository_management/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Repair Yum Repository Metadata</title>
      <link>/docs-csm/en-12/operations/package_repository_management/repair_yum_repository_metadata/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:52 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/repair_yum_repository_metadata/</guid>
      <description>Repair Yum Repository Metadata Nexus may have trouble (re)generating repository metadata (for example, repodata/repomd.xml), especially for larger repositories. Configure the Repair - Rebuild Yum repository metadata (repodata) task in Nexus to create the metadata if the standard generation fails. This is not typically needed, which makes it a repair task.
The example in this procedure is for creating a repair task to rebuild Yum metadata for the mirror-1.3.0-opensuse-leap-15 repository.
See the Nexus documentation on Tasks for more details: https://help.</description>
    </item>
    
    <item>
      <title>Restrict Admin Privileges In Nexus</title>
      <link>/docs-csm/en-12/operations/package_repository_management/restrict_admin_privileges_in_nexus/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:52 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/restrict_admin_privileges_in_nexus/</guid>
      <description>Restrict Admin Privileges in Nexus Prior to making the system available to users, change the ingress settings to disable connections to packages.local and registry.local from automatically gaining admin privileges.
Connections to packages.local and registry.local automatically login clients as the admin user. Admin privileges enable any user to make anonymous writes to Nexus, which means unauthenticated users can perform arbitrary actions on Nexus itself through the REST API, as well as in repositories by uploading or deleting assets.</description>
    </item>
    
    <item>
      <title>Troubleshoot Nexus</title>
      <link>/docs-csm/en-12/operations/package_repository_management/troubleshoot_nexus/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:52 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/troubleshoot_nexus/</guid>
      <description>Troubleshoot Nexus General Nexus Troubleshooting Topics
 lookup registry.local: no such host lookup registry.local: Temporary failure in name resolution initiating layer upload&amp;hellip; in registry.local not ready: https://packages.local  Error lookup registry.local: no such host The following error may occur when running ./lib/setup-nexus.sh:
time=&amp;quot;2021-02-23T19:55:54Z&amp;quot; level=fatal msg=&amp;quot;Error copying tag \&amp;quot;dir:/image/grafana/grafana:7.0.3\&amp;quot;: Error writing blob: Head \&amp;quot;https://registry.local/v2/grafana/grafana/blobs/sha256:cf254eb90de2dc62aa7cce9737ad7e143c679f5486c46b742a1b55b168a736d3\&amp;quot;: dial tcp: lookup registry.local: no such host&amp;quot; + return Or a similar error:
time=&amp;quot;2021-03-04T22:45:07Z&amp;quot; level=fatal msg=&amp;quot;Error copying ref \&amp;quot;dir:/image/cray/cray-ims-load-artifacts:1.</description>
    </item>
    
    <item>
      <title>Manage Repositories With Nexus</title>
      <link>/docs-csm/en-12/operations/package_repository_management/manage_repositories_with_nexus/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:51 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/manage_repositories_with_nexus/</guid>
      <description>Manage Repositories with Nexus This section describes how to connect to Nexus with the Web UI, as well as how to access the REST API from non-compute nodes (NCNs) or compute nodes to manage repositories.
Access Nexus with the web UI Use the hostname set in istio.ingress.hosts.ui.authority (see below) to connect to Nexus over the Customer Access Network (CAN) using a web browser. For example:
https://nexus.{{network.dns.external}}/ Use Keycloak to create and manage accounts In order to log into the Web UI or authenticate with the REST API, a user account with appropriate permissions must be created.</description>
    </item>
    
    <item>
      <title>Nexus Configuration</title>
      <link>/docs-csm/en-12/operations/package_repository_management/nexus_configuration/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:51 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/nexus_configuration/</guid>
      <description>Nexus Configuration Expect each product to create and use its own File type blob store. For example, the Cray System Management (CSM) product uses csm.
The default blob store is also available, but Cray products are discouraged from using it.
Repositories CSM creates the registry (format docker) and charts (format helm) repositories for managing container images and Helm charts across all Cray products. However, each product&amp;rsquo;s release may contain a number of RPM repositories that are added to Nexus.</description>
    </item>
    
    <item>
      <title>Nexus Deployment</title>
      <link>/docs-csm/en-12/operations/package_repository_management/nexus_deployment/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:51 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/nexus_deployment/</guid>
      <description>Nexus Deployment Nexus is deployed with the cray-nexus chart to the nexus namespace as part of the Cray System Management (CSM) release. Nexus is deployed after critical platform services are up and running. Product installers configure and populate Nexus blob stores and repositories using the cray-nexus-setup container image. As a result, there is no singular product that provides all Nexus repositories or assets; instead, individual products must be installed. However, CSM configures the charts Helm repository and the registry Docker repository, which all products may use.</description>
    </item>
    
    <item>
      <title>Nexus Export And Restore</title>
      <link>/docs-csm/en-12/operations/package_repository_management/nexus_export_and_restore/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:51 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/nexus_export_and_restore/</guid>
      <description>Nexus Export and Restore The current process for ensuring the safety of the nexus-data PVC is a one time, space intensive, manual process, and is only recommended to be done while Nexus is in a known good state. An export is recommended to be done before an upgrade, in order to enable the ability to roll back. Taking an export can also be used to improve Nexus resiliency by allowing easy fixes for data corruption.</description>
    </item>
    
    <item>
      <title>Nexus Space Cleanup</title>
      <link>/docs-csm/en-12/operations/package_repository_management/nexus_space_cleanup/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:51 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/nexus_space_cleanup/</guid>
      <description>Nexus Space Cleanup Nexus stores all data in a PVC called nexus-data. If this PVC fills up, then it will enter a read-only state. This read-only state causes issues for Nexus as well as all the services that rely on Nexus. There is no automatic cleanup of old data from Nexus.
During the install of any CSM version, a large amount data is added to Nexus. If there has not been a manual cleanup of old files in Nexus, then there is likely to be insufficient space for the next version of CSM to be installed.</description>
    </item>
    
    <item>
      <title>Package Repository Management</title>
      <link>/docs-csm/en-12/operations/package_repository_management/package_repository_management/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:51 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/package_repository_management/</guid>
      <description>Package Repository Management Repositories are added to systems to extend the system functionality beyond what is initially delivered. The Sonatype Nexus Repository Manager is the primary method for repository management. Nexus hosts the Yum, Docker, raw, and Helm repositories for software and firmware content.
Refer to the following for more information about Nexus:
 The official Sonatype documentation: https://help.sonatype.com/repomanager3 Nexus REST API and Web UI management: Manage Repositories with Nexus  </description>
    </item>
    
    <item>
      <title>Package Repository Management With Nexus</title>
      <link>/docs-csm/en-12/operations/package_repository_management/package_repository_management_with_nexus/</link>
      <pubDate>Tue, 06 Sep 2022 03:55:51 +0000</pubDate>
      
      <guid>/docs-csm/en-12/operations/package_repository_management/package_repository_management_with_nexus/</guid>
      <description>Package Repository Management with Nexus Overview of RPM repositories and container registry in Nexus.
RPM Repositories in Nexus Repositories are available at https://packages.local/repository/REPO_NAME. For example, to configure the csm-sle-15sp2 repository on a non-compute node (NCN):
ncn# zypper addrepo -fG https://packages.local/repository/csm-sle-15sp2 csm-sle-15sp2 Example output:
Adding repository &#39;csm-sle-15sp2&#39; .................................................................................................[done] Warning: GPG checking is disabled in configuration of repository &#39;csm-sle-15sp2&#39;. Integrity and origin of packages cannot be verified. Repository &#39;csm-sle-15sp2&#39; successfully added URI : https://packages.</description>
    </item>
    
  </channel>
</rss>
